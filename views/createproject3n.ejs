<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
        
        <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

        <link rel="stylesheet" href="/public/css/myprojects.css">
        <link rel="stylesheet" href="/public/css/droparea.css">


        <title>10dem Education|My Projects</title>
       
    </head>
    <script>
        let count=0;
        function createanotheridpfield(){
            count++;
            console.log("Getting in here on click:- "+count);
            if(count==1){
                document.getElementById('ssidp').setAttribute("style","display:inline");
            }else if(count==2){
                document.getElementById('ttidp').setAttribute("style","display:inline");
                document.getElementById('addidpb').setAttribute("style","display:none");
            }else{
            }
        }
    </script>
    <body>
        <!-- Navbar -->
        <nav class="navbar navbar-expand-xl navbar-light">
            <a class="navbar-brand" href="#">10dem Education</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
        
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/home/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Ongoing Project</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#">Resources</a>
                    </li> -->
                    <%if(hide_manage_students==true){%>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Membership
                        </a>
                        <!-- <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">Action</a>
                            <a class="dropdown-item" href="#">Another action</a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="#">Something else here</a>
                        </div> -->
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <ul class="navbar-nav mr-auto">
                                <li class="nav-item">
                                    <h5 class="innerhead">Pro</h5>
                                    <p class="innerpara">Proin iaculis purus consequat sem cure digni ssim donec porttitora.</p>
                                    <a href="#" class="innertag">View all</a>
                                </li>
                                <li class="nav-item">
                                    <h5 class="innerhead">Organization</h5>
                                    <p class="innerpara">Proin iaculis purus consequat sem cure digni ssim donec porttitora.</p>
                                    <a href="#" class="innertag">View all</a>
                                </li>
                                <li class="nav-item">
                                    <h5 class="innerhead">Non Profits</h5>
                                    <p class="innerpara">Proin iaculis purus consequat sem cure digni ssim donec porttitora.</p>
                                    <a href="#" class="innertag">View all</a>
                                </li>
                            </ul>
                        </div>    
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="fas fa-crown" style="color: rgb(233, 233, 3);padding-right: 10px;"></i>Try 10dem pro</a>
                    </li>
                    <%}%> 
                </ul>
                <ul class="navbar-nav ml-auto">
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="#">Contribute Resource</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn-primary"  style="border-radius: 5px;" href="#"><i class="fas fa-plus" style="color: rgb(255, 255, 255);"></i>  Create Project</a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link btn-primary" id="login" href="#"><%=firstletter%></a>
                    </li>
                    <li class="nav-item dropdown" style="margin-left: -30px;">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></a>
                        <div class="dropdown-menu  dropdown-menu-right" aria-labelledby="navbarDropdown">
                            <a class="dropdown-item" href="#">My Profile</a>
                            <%if(role=='educator'){%>
                                <a class="dropdown-item" href="/educatordashboard">Dashboard</a>
                                <%}else if(role=='org'){%>
                                <a class="dropdown-item" href="/orgdashboard">Dashboard</a>
                                <%}else{%>
                                
                            <%}%>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="/">Logout</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>


        <div class="wrapper">
            <!-- Sidebar  -->
            <nav id="sidebar">
                <div class="sidebar-header">
                    <img src="/public/img/logo.jpeg" alt="">
                </div>

                <ul class="list-unstyled components">
                    <li>
                        <a href="/myprojects"><box-icon class="bx-fw" name="laptop"></box-icon>  My Projects</a>
                    </li>
                    <li>
                        <a href="#"><box-icon class="bx-fw" name='bookmark'></box-icon>  Bookmarks</a>
                    </li>
                    <li>
                        <a href="#"><box-icon class="bx-fw" name='folder' ></box-icon>  My Folders</a>
                    </li>
                    <li>
                        <a href="#"><box-icon class="bx-fw" name='user-check' ></box-icon>  Manage Students</a>
                    </li>
                </ul>
            </nav>
            

            <!-- Page Content  -->
            <div id="content" class="container">

                <button type="button" id="sidebarCollapse" class="btn bg-light sidebutton">
                    <i id="collapse-icon" class="fas fa-angle-left" style="font-size: 60px;"></i>
                </button>
                

                <a href="#" class="float">
                    <img src="/public/img/help.svg" class="my-float" style="width: 30px;height: 30px;" alt="">
                </a>


                <div style="margin-left: 8%;padding-left: 4px;">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                          <li class="breadcrumb-item"><a href="/home/">Home</a></li>
                          <li class="breadcrumb-item"><a href="/myprojects/">My Projects</a></li>
                          <li class="breadcrumb-item active" aria-current="page">Create Project</li>
                        </ol>
                    </nav>
                </div>


                <div class="row">

                    <div class="col-lg-1">
                        
                    </div>
                    <div class="col-lg-11 pad">
                        <h3 style="margin-bottom: 30px;">Create Project</h3>
                    </div>
                    <div class="col-lg-1">
                        
                    </div>
                    <div class="col-lg-2" style="max-width: 10%;padding-right: 0px;">
                        <div style="border: 5px solid #fd585c;border-radius: 10px;">

                        </div>
                    </div>
                    <div class="col-lg-2" style="max-width: 10%;padding-right: 0px;">
                        <div style="border: 5px solid #fd585c;border-radius: 10px;">

                        </div>
                    </div>
                    <div class="col-lg-2" style="max-width: 10%;padding-right: 0px;">
                        <div style="border: 5px solid #dfdddd;border-radius: 10px;">

                        </div>
                    </div>

                </div>


                <div class="row">
                    <div class="col-lg-1">
                        &nbsp;
                    </div>
                    <div class="col-lg-10">
                        <form class="validate-form" action="/addproject/3" method="POST" enctype="multipart/form-data">
                        <div class="row" style="width: 100%;padding: 50px 25px;margin: 3rem 0;background: #FFFFFF 0% 0% no-repeat padding-box;box-shadow: 0px 0px 6px #00000024;border-radius: 4px;opacity: 1;">
                            <!-- module -->
                            <div class="disable col-lg-12 pad">
                                <div class="row">
                                    <div class="col-lg-1">

                                    </div>
                                    <div class="col-lg-11">
                                        <h2>Introductory Discussion Point</h2>
                                    </div>
                                    <div class="col-lg-1">

                                    </div>
                                    <div class="col-lg-11">
                                        <textarea name="fidp" id="fidp" class="textinput100" placeholder="Write your first introductory discussion points........." type="text" style="width:60rem;height: 100px;margin-bottom: 10px;"></textarea>
                                    </div>
                                    <div class="col-lg-1">

                                    </div>
                                    <div class="col-lg-11" id="ssidp" style="display:none;">
                                        <textarea name="sidp" id="sidp" class="textinput100" placeholder="Write your second introductory discussion points........." type="text" style="width:60rem;height: 100px;margin-bottom: 10px;"></textarea>
                                    </div>
                                    <div class="col-lg-1">

                                    </div>                                 
                                    <div class="col-lg-11" id="ttidp" style="display:none;">
                                        <textarea name="tidp" id="tidp" class="textinput100" placeholder="Write your third introductory discussion points........." type="text" style="width:60rem;height: 100px;margin-bottom: 10px;"></textarea>
                                    </div>
                                    <div class="col-lg-1">

                                    </div>
                                    <div class="col-lg-11" id="addidpb" style="margin-left:70rem;margin-top:-6rem;">
                                        <button class="btn" style="border-radius: 50%;color:#FD585C;height:4rem;width: 4rem;font-size: xx-large;border-color:black;" onclick="createanotheridpfield()" type="button">+</button>
                                    </div>
                                    <div class="col-lg-12" style="margin-left: 7rem;">
                                        <h2>Details and Activity <span id="star">*<span id="starcomment" style="left: 21%;">Enter details and activities</span></span></h2>
                                    </div>
                                    <div class="col-lg-1">

                                    </div>
                                    <div class="col-lg-11">
                                        <textarea id="myTextarea" onclick="window.scrollTo(0, 300);" class="textinput100" type="text" name="Detailsandactivity" placeholder="Activity Details..." style="width:60rem;height: 280px;margin-bottom: 10px;"></textarea>
                                    </div>
                                    <div class="col-lg-1">
                
                                    </div>
                                    <div class="col-lg-7">
        
                                    </div>
                                    <div class="col-lg-4">
                                        <p style="float: right;">maximum 2000 characters(<span id="characterCount"></span> remaining)</p>
                                    </div>
                                    <div class="col-lg-1">
        
                                    </div>
                                </div>
                            
                            </div>

                            <!-- module -->
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-11 pad">
                                <h2>Attach Files</h2>
                            </div>
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-10 pad">
                                <div id="drop-area">
                                    <div class="my-form">
                                      <input type="file" id="fileElem"  name="attachedfiles" multiple>
                                      <label class="button" for="fileElem"><img src="/public/img/pin.svg"> Add or drag file to upload</label>
                                    </div>
                                    <div id="gallery" class="row"></div>
                                </div>
                            </div>
                            <div class="col-lg-1">
        
                            </div>

                            <!-- module -->
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-11 pad">
                                <h2>Assigned To</h2>
                            </div>
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-10 pad">
                                <select class="search-slt" name="assigned_to">
                                    <option value="8">Class 8</option>
                                    <option value="9">Class 9</option>
                                    <option value="10">Class 10</option>
                                    <option value="11">Class 11</option>
                                </select>
                            </div>
                            <div class="col-lg-1">
        
                            </div>
                            
                            <!-- module -->
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-3 pad">
                                <h2>Start Date</h2>
                            </div>
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-3 pad">
                                <h2>End Date</h2>
                            </div>
                            <div class="col-lg-4">
        
                            </div>
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-3 pad">
                                <input class="input100 flatpickrsd" name="startDate">
                            </div>
                            <div class="col-lg-1">
                                <h2 style="text-align: center;margin: 15px;">To</h2>
                            </div>
                            <div class="col-lg-3 pad">
                                <input class="input100 flatpickred" name="endDate">
                            </div>
                            <div class="col-lg-4">

                            </div>
                            <!-- Button module -->
                            <div class="col-lg-1">
        
                            </div>
                            <div class="col-lg-7 pad">
                                <a href="#" style="font-size: 22px;color: #FD585CCC;position: relative;top: 15px;"><img src="/public/img/redarrow.svg" style="bottom: 2px;position: relative;">&nbsp;&nbsp;Go Back</a>    
                            </div>
                            <div class="col-lg-3">
                                <button class="btn savebutton" type="submit" style="border-radius: 50%;width: 60px;height: 60px;"><img src="/public/img/arrow.svg"></button>
                            </div>
                            <div class="col-lg-1 pad">
                                
                            </div>
                        </div>  
                    </form>
                    </div>
                    <div class="col-lg-1">
                        &nbsp;
                    </div>
                </div>

                
            </div> 
        </div>


        <footer>
            <p>10dem © 2020</p>
        </footer>


        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <!-- jQuery UI -->
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

        <script src="https://unpkg.com/boxicons@latest/dist/boxicons.js"></script>
        <script src="https://kit.fontawesome.com/6f24662773.js" crossorigin="anonymous"></script>

        <script src="/public/js/index.js"></script>
        <script>
            $(document).ready(function(){
              $('[data-toggle="tooltip"]').tooltip({title: '<p style="color: #272727;">Disable this field if not required</p>', html: true, placement: "top"});
              $(function(){
                $( "#sortable" ).sortable({
                    items: '>div:not(.disable)'
                });
                $( "#sortable" ).disableSelection();
              })

              $('.listbutton').click(function(){
                  var className = $(this).attr('class').split(/\s+/)[1]+'-input';
                  if( !$('.' + className).hasClass('disabled')){
                    $('.'+className).prop('disabled', true);
                    $('.'+className).addClass('disabled');
                  } else{
                    $('.'+className).prop('disabled', false);
                    $('.'+className).removeClass('disabled');
                  }
              })


            });

            let dropArea = document.getElementById('drop-area')

            ;['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, preventDefaults, false)
            })

            function preventDefaults (e) {
                e.preventDefault()
                e.stopPropagation()
            }


            ;['dragenter', 'dragover'].forEach(eventName => {
                dropArea.addEventListener(eventName, highlight, false)
            })

            ;['dragleave', 'drop'].forEach(eventName => {
                dropArea.addEventListener(eventName, unhighlight, false)
            })

            function highlight(e) {
                dropArea.classList.add('highlight')
            }

            function unhighlight(e) {
                dropArea.classList.remove('highlight')
            }

            dropArea.addEventListener('drop', handleDrop, false)

            function handleDrop(e) {
                let dt = e.dataTransfer
                let files = dt.files

                handleFiles(files)
            }

            function handleFiles(files) {
                files = [...files]
                files.forEach(uploadFile)
                files.forEach(previewFile)
            }

            function uploadFile(file) {
                let url = 'YOUR URL HERE'
                let formData = new FormData()
                formData.append('file', file)
                fetch(url, {
                method: 'POST',
                body: formData
                })
                .then(() => { /* Done. Inform the user */ })
                .catch(() => { /* Error. Inform the user */ })
            }


            function previewFile(file) {
                // let reader = new FileReader()
                // reader.readAsDataURL(file)
                // reader.onloadend = function() {
                // let img = document.createElement('img')
                // img.src = reader.result
                // document.getElementById('gallery').appendChild(img)
                var src;
                switch (file.type) {
                    case 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':
                        src = '/public/img/doc.png'
                        break;
                    case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':
                        src = '/public/img/doc.png'
                        break;
                    case 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':
                        src = '/public/img/doc.png'
                        break;
                    case 'application/msword':
                        src = '/public/img/doc.png'
                        break;
                    case 'application/vnd.ms-excel':
                        src = '/public/img/doc.png'
                        break; 
                    case 'application/vnd.ms-powerpoint':
                        src = '/public/img/doc.png'
                        break;
                    case 'text/csv':
                        src = '/public/img/doc.png'
                        break;
                    case 'application/pdf':
                        src = '/public/img/pdf.png'
                        break;
                    case 'image/jpg':
                        src = '/public/img/image.svg'
                        break;
                    case 'image/png':
                        src = '/public/img/image.svg'
                        break;
                    case 'image/jpeg':
                        src = '/public/img/image.svg'
                        break;  
                }


                let files=document.createElement('div')
                files.classList.add('col-lg-4')
                files.innerHTML=`
                    <div style="margin: 10px;">
                        <div class="row" style="padding: 10px;background: #FCFCFC 0% 0% no-repeat padding-box;border: 2px solid #70707029">
                            <div class="col-lg-11 p-0 d-flex justify-content-left">
                                <img src="${src}" style="height: 56px;width: 56px;margin-right: 15px;">
                                <div>
                                    <p>${file.name}</p>
                                    <p class="filesize">${((file.size)/1000).toFixed(0)}&nbsp;KB</p>
                                </div> 
                            </div>
                            
                            <div class="col-lg-1 p-0">
                                <img src="/public/img/cross.svg" style="height: 24px;width: 24px;margin: 0;">
                            </div>
                        </div>
                    </div>
                    `
                document.getElementById('gallery').appendChild(files)

            }

        </script>
        <script>

            var count=0;
            $('#myTextarea').keypress(function(e){
                count++;

                document.getElementById("characterCount").innerHTML = (2000-(count));
               
            });

            $('#myTextarea').keydown(function(e){
                if (e.keyCode === 8 && count!== 0)
                    count--;

                document.getElementById("characterCount").innerHTML = (2000-(count));
                
            });
            
            document.getElementById("characterCount").innerHTML = 2000;

        </script>

        <!-- DatePicker -->
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script>
            $('.flatpickrsd').flatpickr({
                minDate:"today"
            });
            $('.flatpickred').flatpickr({
                minDate:new Date().fp_incr(1)
            })
        </script>

    </body>
</html>


